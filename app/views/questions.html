<div class="question">
  <div flex-gt-sm="100" flex>
    <md-toolbar layout="row" class="md-hue-3" ng-show="!add">
      <div class="md-toolbar-tools">
        <span>{{ 'questions.title' | translate }}</span>
      </div>
    </md-toolbar>
    <md-toolbar layout="row" class="md-hue-3" ng-show="add">
      <div class="md-toolbar-tools">
        <span>{{ 'questions.title2' | translate }}</span>
      </div>
    </md-toolbar>

    <md-content>
      <md-list flex>
        <md-list-item class="md-3-line" ng-show="!add">
          <div class="md-list-item-text" layout="column" ng-init="add = false">
            <md-button class="md-mini" md-ripple-size="full" ng-click="add = true">
              <i class="fa fa-plus" aria-hidden="true"></i> {{ 'questions.add.quest' | translate }}
            </md-button>
          </div>
          <md-divider ></md-divider>
        </md-list-item>
        <md-list-item class="md-3-line" ng-repeat="item in questions" ng-show="!add">
          <div class="md-list-item-text question__item" layout="column">
            <h3><i class="fa fa-question-circle" aria-hidden="true"></i> {{ item.question }}</h3>
            <div class="question__choice" ng-repeat="x in item.choices">
              <h4><i class="fa fa-circle" aria-hidden="true"></i> {{ x.choice }}</h4>
              <p>{{ x.votes }} {{ 'questions.votes' | translate }}</p>
            </div>
          </div>
          <md-divider ></md-divider>
        </md-list-item>
        <md-list-item class="md-3-line" ng-show="add">
          <div class="md-list-item-text" layout="column">
            <form class="question__form" name="questionForm" ng-submit="addQuestion()">
              <div class="">
                <h3>
                  <md-input-container class="md-block" flex-gt-xs>
                    <label>{{ 'questions.question' | translate }}</label>
                    <input name="question.name" ng-model="question.question" required>
                  </md-input-container>
                </h3>
              </div>
              <div class="question__form--add-choice" id="choices">
                <h4>
                  <md-input-container>
                    <label>{{ 'questions.choice' | translate }}</label>
                    <input name=" question.choice" ng-model="question.choices[0]" required>
                  </md-input-container>
                </h4>
                <h4 ng-repeat="i in count">
                  <md-input-container>
                    <label>{{ 'questions.choice' | translate }}</label>
                    <input name=" question.choice" ng-model="question.choices[i]" required>
                  </md-input-container>
                </h4>
              </div>
              <h4>
                <md-button class="md-mini" md-ripple-size="full" ng-click="addChoices()">
                  <i class="fa fa-plus" aria-hidden="true"></i> {{ 'questions.add.choice' | translate }}
                </md-button>
              </h4>
              <md-button class="md-primary md-raised" type="submit" ng-disabled="questionForm.$invalid">
                <i class="fa fa-pencil" aria-hidden="true"></i> {{ 'questions.submit' | translate }}
              </md-button>
              <md-button class="md-primary md-raised" ng-click="add = false">
                <i class="fa fa-arrow-left" aria-hidden="true"></i> {{ 'general.back' | translate }}
              </md-button>
            </form>
          </div>
          <md-divider ></md-divider>
        </md-list-item>
      </md-list flex>
    </md-content>
  </div>
</div>
